/* Global battle styles - Dark theme consistent with project */
:root {
  --panel-bg: #181a1b;
  --panel-bg-alt: #212121;
  --text: #ececec;
  --muted: rgba(229, 229, 229, 0.35);
  --divider: rgba(229, 229, 229, 0.15);
  --accent: #8ab4f8;
  --success: #53c653;
  --success-bg: #232c23;
  --error: #c65353;
  --error-bg: #2c2323;
  --yellow: #d1b354;
  --green: #7cc37c;
  --red: #e07575;
  --radius: 8px;
}

.battle-lobby,
.battle-room,
.battle-results,
.battle-history {
  color: var(--text);
}

.lobby-header,
.battle-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 16px 20px;
  background: var(--panel-bg);
  border: 1px solid var(--divider);
  border-radius: var(--radius);
}

.room-code {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 6px 10px;
  background: var(--panel-bg-alt);
  border: 1px solid var(--divider);
  border-radius: 6px;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}
.room-code button {
  padding: 4px 8px;
  background: transparent;
  border: 1px solid var(--divider);
  color: var(--text);
  border-radius: 6px;
  cursor: pointer;
}
.room-code button:hover { border-color: var(--muted); }

.lobby-content,
.battle-content {
  display: grid;
  grid-template-columns: 1.2fr 1fr;
  gap: 16px;
  margin-top: 16px;
}

.participants-section,
.problem-section,
.problem-panel,
.code-panel,
.leaderboard-panel {
  background: var(--panel-bg);
  border: 1px solid var(--divider);
  border-radius: var(--radius);
  padding: 16px;
}

.participants-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: 12px;
  margin-top: 12px;
}

.player-card {
  display: flex;
  gap: 12px;
  align-items: center;
  background: var(--panel-bg-alt);
  border: 1px solid var(--divider);
  border-radius: var(--radius);
  padding: 10px 12px;
}
.player-card.ready { outline: 1px dashed var(--green); outline-offset: 2px; }
.player-avatar img { width: 36px; height: 36px; border-radius: 50%; object-fit: cover; }
.avatar-placeholder { width: 36px; height: 36px; border-radius: 50%; background: #2a2a2a; display:flex; align-items:center; justify-content:center; color: var(--muted); font-weight: 600; }
.player-info { display: grid; gap: 4px; }
.player-name { font-weight: 600; display: inline-flex; gap: 8px; align-items: center; }
.host-badge { padding: 2px 6px; border-radius: 999px; background: #2b364a; color: #b9cff6; font-size: 12px; border: 1px solid var(--divider); }
.player-status { font-size: 12px; color: var(--muted); }
.text-green-500 { color: var(--green); }
.text-yellow-500 { color: var(--yellow); }
.text-red-500 { color: var(--red); }

.problem-preview { background: var(--panel-bg-alt); border: 1px solid var(--divider); border-radius: var(--radius); padding: 12px; display: grid; gap: 8px; }
.difficulty { color: var(--muted); font-size: 12px; }

.lobby-actions { margin-top: 16px; display: flex; gap: 12px; }
.ready-btn, .start-battle-btn, .submit-btn {
  padding: 10px 14px;
  border-radius: 6px;
  border: 1px solid var(--divider);
  background: #263238;
  color: var(--text);
  cursor: pointer;
}
.ready-btn.ready { background: #1b2b1b; border-color: #2a3d2a; }
.ready-btn.not-ready { background: #2b2620; border-color: #3d362c; }
.start-battle-btn:disabled { opacity: 0.5; cursor: not-allowed; }

/* Timer */
.timer-container { display: grid; gap: 8px; }
.timer-display { font-variant-numeric: tabular-nums; font-size: 20px; }
.timer-progress { width: 100%; height: 6px; background: #2a2a2a; border-radius: 999px; overflow: hidden; border: 1px solid var(--divider); }
.timer-progress-bar { height: 100%; background: linear-gradient(90deg, #6fb06f, #53c653); }

/* Countdown overlay */
.countdown-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.5); display:flex; align-items:center; justify-content:center; z-index: 50; }
.countdown-container { background: var(--panel-bg); border: 1px solid var(--divider); border-radius: 12px; padding: 24px 36px; text-align: center; }
.countdown-number { font-size: 56px; letter-spacing: 2px; }
.countdown-number.go { color: var(--success); }
.countdown-label { margin-top: 8px; color: var(--muted); }

/* Code editor wrapper */
.code-editor { width: 100%; height: 100%; border-radius: var(--radius); overflow: hidden; border: 1px solid var(--divider); }

/* Test results */
.test-results { display: grid; gap: 12px; }
.test-results .summary { display:flex; align-items:center; justify-content: space-between; padding: 10px 12px; border-radius: 6px; border: 1px solid var(--divider); }
.test-results .summary.pass { background: var(--success-bg); color: var(--success); }
.test-results .summary.fail { background: var(--error-bg); color: var(--error); }
.test-results .summary .score { color: var(--text); opacity: 0.9; }
.test-results .cases { display: grid; gap: 8px; }
.test-results .case { border: 1px solid var(--divider); border-radius: 6px; overflow:hidden; }
.test-results .case.pass .case-header { background: rgba(83, 198, 83, 0.08); color: var(--success); }
.test-results .case.fail .case-header { background: rgba(198, 83, 83, 0.08); color: var(--error); }
.test-results .case-header { padding: 8px 10px; font-weight: 600; }
.test-results .case-body { padding: 10px 12px; color: var(--text); }
.test-results .error { color: var(--error); font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace; white-space: pre-wrap; }

/* Results & History */
.leaderboard { display: grid; gap: 8px; }
.leaderboard-entry { display:flex; gap: 8px; align-items:center; justify-content: space-between; background: var(--panel-bg-alt); border: 1px solid var(--divider); border-radius: 6px; padding: 8px 10px; }
.leaderboard-entry .rank { color: var(--muted); width: 42px; }

.battle-history .history-list { display: grid; gap: 10px; margin-top: 12px; }
.battle-history .history-item { background: var(--panel-bg); border: 1px solid var(--divider); border-radius: var(--radius); padding: 12px; display:grid; gap:6px; }
.battle-history .history-item .title { font-weight: 600; }
.battle-history .history-item .meta { color: var(--muted); display:flex; gap: 12px; }

/* Utilities */
.empty { color: var(--muted); border: 1px dashed var(--divider); border-radius: 6px; padding: 10px; text-align:center; }

@media (max-width: 960px) {
  .lobby-content,
  .battle-content { grid-template-columns: 1fr; }
}


