.battle-play { height: 100vh; display: flex; flex-direction: column; background: #0f1115; color: #e6e6e6; }
.battle-play__header { display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; border-bottom: 1px solid #1f2633; background: #0b0e13; position: sticky; top: 0; z-index: 5; }
.brand { display: flex; align-items: center; gap: 8px; font-weight: 700; cursor: pointer; transition: all 0.3s ease; }
.brand:hover { transform: scale(1.05); }
.brand-mark { font-size: 18px; }
.header-controls { display: flex; gap: 12px; align-items: center; }
.room-code-display { 
  background: #007acc; 
  color: #fff; 
  padding: 6px 12px; 
  border-radius: 6px; 
  font-size: 12px; 
  font-weight: 600; 
  font-family: 'Courier New', monospace;
}
.battle-status { display: flex; align-items: center; }
.status-waiting { color: #f59e0b; font-size: 12px; font-weight: 600; }
.status-active { color: #10b981; font-size: 12px; font-weight: 600; animation: pulse 2s infinite; }
.status-ended { color: #6b7280; font-size: 12px; font-weight: 600; }
@keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
.header-controls select { background: #141821; color: #e6e6e6; border: 1px solid #1f2633; border-radius: 8px; padding: 8px 10px; }
.cta { background: #00e5a8; color: #001a12; border: 1px solid transparent; border-radius: 10px; padding: 8px 12px; font-weight: 700; cursor: pointer; transition: all 0.3s ease; }
.cta:hover:not(:disabled) { transform: translateY(-1px); box-shadow: 0 4px 12px rgba(0, 229, 168, 0.3); }
.cta:disabled { opacity: 0.5; cursor: not-allowed; transform: none; box-shadow: none; }
.cta.loading { background: #6b7280; cursor: not-allowed; }
.cta--secondary { background: #1f2633; color: #e6e6e6; }
.cta--secondary:hover:not(:disabled) { background: #2a2f3a; }
.cta--secondary.active { background: #4ECDC4; color: #000; }
.cta--secondary.active:hover:not(:disabled) { background: #45B7D1; }
.cta--ghost { background: transparent; color: #9aa4b2; border-color: #1f2633; }
.cta--ghost:hover:not(:disabled) { background: rgba(255, 255, 255, 0.1); }

.battle-play__content { flex: 1; display: grid; grid-template-columns: 1.1fr 1.3fr; min-height: 0; position: relative; }

.problem-panel { border-right: 1px solid #1f2633; background: #0f131b; display: flex; flex-direction: column; min-height: 0; }
.problem-header { display: flex; align-items: center; justify-content: space-between; padding: 14px 16px; border-bottom: 1px solid #1f2633; background: #0b0e13; }
.problem-title { margin: 0; font-size: 18px; font-weight: 700; }
.badge { padding: 4px 10px; border-radius: 999px; border: 1px solid #1f2633; font-size: 12px; font-weight: 700; }
.badge--easy { background: rgba(0,229,168,0.12); color: #7affd6; border-color: rgba(0,229,168,0.35); }
.badge--medium { background: rgba(255,193,7,0.12); color: #ffd45a; border-color: rgba(255,193,7,0.35); }
.badge--hard { background: rgba(244,67,54,0.12); color: #ffa09a; border-color: rgba(244,67,54,0.35); }
.problem-body { padding: 14px 16px; overflow: auto; }
.problem-desc { color: #c6ced8; line-height: 1.6; margin-bottom: 12px; }
.problem-meta { display: grid; grid-template-columns: 1fr; gap: 12px; }
.meta-label { color: #9aa4b2; text-transform: uppercase; font-size: 12px; letter-spacing: 0.4px; margin-bottom: 6px; }
.io-block { background: #0b0e13; color: #e6e6e6; border: 1px solid #1f2633; border-radius: 8px; padding: 10px; white-space: pre-wrap; }
.constraints { margin: 0; padding-left: 18px; color: #c6ced8; }

.editor-panel { display: flex; flex-direction: column; min-height: 0; }
.editor-header { display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; border-bottom: 1px solid #1f2633; background: #0b0e13; }
.timer-section { display: flex; flex-direction: column; gap: 4px; }
.timer { color: #7affd6; font-weight: 700; font-size: 16px; }
.timer-warning { color: #f59e0b; animation: pulse 1s infinite; }
.timer-critical { color: #ef4444; animation: pulse 0.5s infinite; }
.waiting-message { color: #9aa4b2; font-size: 12px; }
.actions { display: flex; gap: 8px; }
.editor-container { flex: 1; min-height: 0; }
.debug-panel { background: #0b0e13; border-top: 1px solid #1f2633; }
.debug-header { display: flex; align-items: center; justify-content: space-between; padding: 8px 12px; border-bottom: 1px solid #1f2633; }
.debug-title { color: #ececec; font-weight: 600; }
.debug-content { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; padding: 8px 12px; }
.debug-section { background: #0f131b; border: 1px solid #1f2633; border-radius: 8px; padding: 8px; }
.debug-section-title { color: #9aa4b2; font-size: 12px; margin-bottom: 6px; }
.debug-state-line { color: #e6e6e6; font-size: 13px; }
.debug-vars { color: #c6ced8; font-size: 12px; margin: 0; white-space: pre-wrap; }
.debug-bps-list { display: flex; flex-direction: column; gap: 6px; }
.debug-empty { color: #9aa4b2; font-size: 12px; }

/* Breakpoint glyphs */
.monaco-editor .glyph-margin .debug-breakpoint { background: #ef4444; width: 10px; height: 10px; border-radius: 50%; margin: 2px; }
.monaco-editor .margin .debug-line { background: rgba(239, 68, 68, 0.1); }

/* Test Results Panel */
.test-results-panel {
  background: #0b0e13;
  border-top: 1px solid #1f2633;
  max-height: 300px;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.test-results-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 16px;
  border-bottom: 1px solid #1f2633;
  background: #141821;
}

.test-results-header h3 {
  margin: 0;
  color: #e6e6e6;
  font-size: 14px;
  font-weight: 600;
}

.close-results {
  background: none;
  border: none;
  color: #9aa4b2;
  cursor: pointer;
  font-size: 18px;
  padding: 4px;
  border-radius: 4px;
  transition: all 0.3s ease;
}

.close-results:hover {
  background: rgba(255, 255, 255, 0.1);
  color: #e6e6e6;
}

.test-results-content {
  flex: 1;
  overflow-y: auto;
  padding: 16px;
}

.test-summary {
  margin-bottom: 16px;
}

.test-stats {
  display: flex;
  align-items: center;
  gap: 12px;
  font-size: 14px;
}

.test-stats .passed { color: #10b981; font-weight: 600; }
.test-stats .total { color: #9aa4b2; }
.test-stats .score { color: #3b82f6; font-weight: 600; }

.test-details {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.test-case {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  padding: 12px;
  border-radius: 8px;
  border: 1px solid #1f2633;
}

.test-case.passed {
  background: rgba(16, 185, 129, 0.1);
  border-color: rgba(16, 185, 129, 0.3);
}

.test-case.failed {
  background: rgba(239, 68, 68, 0.1);
  border-color: rgba(239, 68, 68, 0.3);
}

.test-icon {
  font-size: 16px;
  flex-shrink: 0;
  margin-top: 2px;
}

.test-info {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 4px;
  font-size: 12px;
}

.test-input,
.test-expected,
.test-actual {
  color: #c6ced8;
}

.test-error-msg {
  color: #ef4444;
  font-weight: 500;
}

.test-error {
  display: flex;
  align-items: center;
  gap: 8px;
  color: #ef4444;
  font-size: 14px;
  padding: 12px;
  background: rgba(239, 68, 68, 0.1);
  border: 1px solid rgba(239, 68, 68, 0.3);
  border-radius: 8px;
}

.error-icon {
  font-size: 16px;
}

@media (max-width: 1100px) {
  .battle-play__content { grid-template-columns: 1fr; }
  .problem-panel { border-right: none; border-bottom: 1px solid #1f2633; }
}

/* Screen share side panel */
.screens-panel { position: absolute; top: 0; right: 0; bottom: 0; background: #181a1b; border-left: 1px solid rgba(229,229,229,0.15); display: flex; flex-direction: column; }
.screens-header { display: flex; align-items: center; justify-content: space-between; padding: 8px 10px; border-bottom: 1px solid rgba(229,229,229,0.1); }
.screens-title { color: #ececec; font-weight: 600; }
.screens-meta { color: #a1a1a1; font-size: 12px; }
.screens-list { padding: 8px; overflow: auto; display: grid; grid-template-columns: 1fr; gap: 8px; }
.screen-item { background: #212121; border: 1px solid rgba(229,229,229,0.08); border-radius: 8px; overflow: hidden; }
.screen-video { width: 100%; height: auto; display: block; background: #000; }
.screen-caption { padding: 6px 8px; color: #ececec; font-size: 12px; border-top: 1px solid rgba(229,229,229,0.06); }
.screens-empty { color: #a1a1a1; font-size: 13px; padding: 12px; text-align: center; }
.screens-resizer { position: absolute; top: 0; left: -4px; width: 8px; bottom: 0; cursor: ew-resize; background: transparent; }


